<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>GST í†µí•© ëŒ€ì‹œë³´ë“œ</title>
  <meta http-equiv="refresh" content="3600">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- ë°˜ì‘í˜• ë·°í¬íŠ¸ ì¶”ê°€ -->
  <style>
    body { font-family: 'NanumGothic', sans-serif; margin: 0; }
    .tab { display: flex; background: #333; color: white; flex-wrap: wrap; }
    .tab button {
      flex: 1 1 200px; /* ìµœì†Œ ë„ˆë¹„ 200px, ìœ ì—°í•˜ê²Œ í™•ì¥ */
      padding: 14px 16px; background: #333; border: none;
      color: white; cursor: pointer; transition: 0.3s; font-size: clamp(14px, 2vw, 16px);
    }
    .tab button:hover { background-color: #575757; }
    .tab button.active { background-color: #007acc; }
    iframe {
      width: 100%; height: calc(100vh - 60px); /* íƒ­ ë†’ì´(ì•½ 60px) ì œì™¸ */
      border: none; box-sizing: border-box;
      min-height: 400px; max-height: 1200px; /* í™”ë©´ í¬ê¸° ì œí•œ */
    }
    #dashboardContainer { display: none; }
    #authContainer { text-align: center; padding: 50px; }
    @media (max-width: 768px) {
      .tab button { font-size: 14px; padding: 10px; }
      iframe { height: calc(100vh - 100px); } /* íƒ­ ë†’ì´ ì¦ê°€ ê³ ë ¤ */
    }
    @media (max-width: 480px) {
      .tab { flex-direction: column; }
      .tab button { flex: none; width: 100%; }
      iframe { height: calc(100vh - 150px); min-height: 300px; }
    }
  </style>

  <!-- Google Analytics ì‚½ì… -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-F7HTZVLPLF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-F7HTZVLPLF');
  </script>
</head>

<body onload="promptPassword()">
<div id="authContainer">
  <h2>ğŸ” ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤</h2>
  <p>ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
</div>

<div id="dashboardContainer">
  <div class="tab">
    <button class="tablinks active" onclick="openTab('factory.html#mech-summary', this)">ğŸ­ ê³µì¥ ëŒ€ì‹œë³´ë“œ</button>
    <button class="tablinks" onclick="openTab('partner.html', this)">ğŸ¤ í˜‘ë ¥ì‚¬ ëŒ€ì‹œë³´ë“œ</button>
    <button class="tablinks" onclick="openProtectedTab('internal.html', this)">ğŸ”’ ë‚´ë¶€ ëŒ€ì‹œë³´ë“œ</button>
  </div>
  <iframe id="dashboardFrame" src="factory.html#mech-summary"></iframe>
</div>

<script>
  let isAuthenticated = false;

  function promptPassword() {
    const password = prompt("ğŸ” í˜ì´ì§€ ì ‘ê·¼ì„ ìœ„í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:");
    if (password === "2025") {
      isAuthenticated = true;
      document.getElementById("authContainer").style.display = "none";
      document.getElementById("dashboardContainer").style.display = "block";
    } else {
      alert("âŒ ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤. ì ‘ê·¼ì´ ì œí•œë©ë‹ˆë‹¤.");
      document.getElementById("authContainer").innerHTML = "<h2>ì ‘ê·¼ì´ ì œí•œë˜ì—ˆìŠµë‹ˆë‹¤</h2><p>ì˜¬ë°”ë¥¸ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>";
      setTimeout(promptPassword, 1000);
    }
  }

  function openTab(page, btn) {
    document.getElementById("dashboardFrame").src = page;
    const tabs = document.getElementsByClassName("tablinks");
    for (let i = 0; i < tabs.length; i++) {
      tabs[i].classList.remove("active");
    }
    btn.classList.add("active");
  }

  function openProtectedTab(page, btn) {
    if (!isAuthenticated) {
      promptPassword();
      return;
    }
    const password = prompt("ğŸ” ë‚´ë¶€ ëŒ€ì‹œë³´ë“œ ì ‘ê·¼ì„ ìœ„í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:");
    if (password === "0979") {
      openTab(page, btn);
    } else {
      alert("âŒ ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤. ì ‘ê·¼ì´ ì œí•œë©ë‹ˆë‹¤.");
    }
  }
</script>
</body>
</html>
